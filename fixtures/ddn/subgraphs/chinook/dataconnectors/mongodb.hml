kind: DataConnectorLink
version: v1
definition:
  name: mongodb
  url:
    singleUrl:
      value: http://localhost:7130
  schema:
    version: v0.1
    schema:
      scalar_types:
        BinData:
          aggregate_functions:
            count:
              result_type:
                type: named
                name: Int
          comparison_operators:
            _eq:
              type: equal
            _neq:
              type: custom
              argument_type:
                type: named
                name: BinData
        Boolean:
          aggregate_functions:
            count:
              result_type:
                type: named
                name: Int
          comparison_operators:
            _eq:
              type: equal
            _neq:
              type: custom
              argument_type:
                type: named
                name: Boolean
        Date:
          aggregate_functions:
            count:
              result_type:
                type: named
                name: Int
            max:
              result_type:
                type: named
                name: Date
            min:
              result_type:
                type: named
                name: Date
          comparison_operators:
            _eq:
              type: equal
            _gt:
              type: custom
              argument_type:
                type: named
                name: Date
            _gte:
              type: custom
              argument_type:
                type: named
                name: Date
            _lt:
              type: custom
              argument_type:
                type: named
                name: Date
            _lte:
              type: custom
              argument_type:
                type: named
                name: Date
            _neq:
              type: custom
              argument_type:
                type: named
                name: Date
        DbPointer:
          aggregate_functions:
            count:
              result_type:
                type: named
                name: Int
          comparison_operators:
            _eq:
              type: equal
            _neq:
              type: custom
              argument_type:
                type: named
                name: DbPointer
        Decimal:
          aggregate_functions:
            avg:
              result_type:
                type: named
                name: Decimal
            count:
              result_type:
                type: named
                name: Int
            max:
              result_type:
                type: named
                name: Decimal
            min:
              result_type:
                type: named
                name: Decimal
            sum:
              result_type:
                type: named
                name: Decimal
          comparison_operators:
            _eq:
              type: equal
            _gt:
              type: custom
              argument_type:
                type: named
                name: Decimal
            _gte:
              type: custom
              argument_type:
                type: named
                name: Decimal
            _lt:
              type: custom
              argument_type:
                type: named
                name: Decimal
            _lte:
              type: custom
              argument_type:
                type: named
                name: Decimal
            _neq:
              type: custom
              argument_type:
                type: named
                name: Decimal
        Float:
          aggregate_functions:
            avg:
              result_type:
                type: named
                name: Float
            count:
              result_type:
                type: named
                name: Int
            max:
              result_type:
                type: named
                name: Float
            min:
              result_type:
                type: named
                name: Float
            sum:
              result_type:
                type: named
                name: Float
          comparison_operators:
            _eq:
              type: equal
            _gt:
              type: custom
              argument_type:
                type: named
                name: Float
            _gte:
              type: custom
              argument_type:
                type: named
                name: Float
            _lt:
              type: custom
              argument_type:
                type: named
                name: Float
            _lte:
              type: custom
              argument_type:
                type: named
                name: Float
            _neq:
              type: custom
              argument_type:
                type: named
                name: Float
        Int:
          aggregate_functions:
            avg:
              result_type:
                type: named
                name: Int
            count:
              result_type:
                type: named
                name: Int
            max:
              result_type:
                type: named
                name: Int
            min:
              result_type:
                type: named
                name: Int
            sum:
              result_type:
                type: named
                name: Int
          comparison_operators:
            _eq:
              type: equal
            _gt:
              type: custom
              argument_type:
                type: named
                name: Int
            _gte:
              type: custom
              argument_type:
                type: named
                name: Int
            _lt:
              type: custom
              argument_type:
                type: named
                name: Int
            _lte:
              type: custom
              argument_type:
                type: named
                name: Int
            _neq:
              type: custom
              argument_type:
                type: named
                name: Int
        Javascript:
          aggregate_functions:
            count:
              result_type:
                type: named
                name: Int
          comparison_operators: {}
        JavascriptWithScope:
          aggregate_functions:
            count:
              result_type:
                type: named
                name: Int
          comparison_operators: {}
        Long:
          aggregate_functions:
            avg:
              result_type:
                type: named
                name: Long
            count:
              result_type:
                type: named
                name: Int
            max:
              result_type:
                type: named
                name: Long
            min:
              result_type:
                type: named
                name: Long
            sum:
              result_type:
                type: named
                name: Long
          comparison_operators:
            _eq:
              type: equal
            _gt:
              type: custom
              argument_type:
                type: named
                name: Long
            _gte:
              type: custom
              argument_type:
                type: named
                name: Long
            _lt:
              type: custom
              argument_type:
                type: named
                name: Long
            _lte:
              type: custom
              argument_type:
                type: named
                name: Long
            _neq:
              type: custom
              argument_type:
                type: named
                name: Long
        MaxKey:
          aggregate_functions:
            count:
              result_type:
                type: named
                name: Int
          comparison_operators:
            _eq:
              type: equal
            _neq:
              type: custom
              argument_type:
                type: named
                name: MaxKey
        MinKey:
          aggregate_functions:
            count:
              result_type:
                type: named
                name: Int
          comparison_operators:
            _eq:
              type: equal
            _neq:
              type: custom
              argument_type:
                type: named
                name: MinKey
        "Null":
          aggregate_functions:
            count:
              result_type:
                type: named
                name: Int
          comparison_operators:
            _eq:
              type: equal
            _neq:
              type: custom
              argument_type:
                type: named
                name: "Null"
        ObjectId:
          aggregate_functions:
            count:
              result_type:
                type: named
                name: Int
          comparison_operators:
            _eq:
              type: equal
            _neq:
              type: custom
              argument_type:
                type: named
                name: ObjectId
        Regex:
          aggregate_functions:
            count:
              result_type:
                type: named
                name: Int
          comparison_operators: {}
        String:
          aggregate_functions:
            count:
              result_type:
                type: named
                name: Int
            max:
              result_type:
                type: named
                name: String
            min:
              result_type:
                type: named
                name: String
          comparison_operators:
            _eq:
              type: equal
            _gt:
              type: custom
              argument_type:
                type: named
                name: String
            _gte:
              type: custom
              argument_type:
                type: named
                name: String
            _iregex:
              type: custom
              argument_type:
                type: named
                name: String
            _lt:
              type: custom
              argument_type:
                type: named
                name: String
            _lte:
              type: custom
              argument_type:
                type: named
                name: String
            _neq:
              type: custom
              argument_type:
                type: named
                name: String
            _regex:
              type: custom
              argument_type:
                type: named
                name: String
        Symbol:
          aggregate_functions:
            count:
              result_type:
                type: named
                name: Int
          comparison_operators:
            _eq:
              type: equal
            _neq:
              type: custom
              argument_type:
                type: named
                name: Symbol
        Timestamp:
          aggregate_functions:
            count:
              result_type:
                type: named
                name: Int
            max:
              result_type:
                type: named
                name: Timestamp
            min:
              result_type:
                type: named
                name: Timestamp
          comparison_operators:
            _eq:
              type: equal
            _gt:
              type: custom
              argument_type:
                type: named
                name: Timestamp
            _gte:
              type: custom
              argument_type:
                type: named
                name: Timestamp
            _lt:
              type: custom
              argument_type:
                type: named
                name: Timestamp
            _lte:
              type: custom
              argument_type:
                type: named
                name: Timestamp
            _neq:
              type: custom
              argument_type:
                type: named
                name: Timestamp
        Undefined:
          aggregate_functions:
            count:
              result_type:
                type: named
                name: Int
          comparison_operators:
            _eq:
              type: equal
            _neq:
              type: custom
              argument_type:
                type: named
                name: Undefined
      object_types:
        Album:
          fields:
            AlbumId:
              type:
                type: named
                name: Int
            ArtistId:
              type:
                type: named
                name: Int
            Title:
              type:
                type: named
                name: String
            _id:
              type:
                type: nullable
                underlying_type:
                  type: named
                  name: ObjectId
        Artist:
          fields:
            ArtistId:
              type:
                type: named
                name: Int
            Name:
              type:
                type: nullable
                underlying_type:
                  type: named
                  name: String
            _id:
              type:
                type: nullable
                underlying_type:
                  type: named
                  name: ObjectId
        Customer:
          fields:
            Address:
              type:
                type: nullable
                underlying_type:
                  type: named
                  name: String
            City:
              type:
                type: nullable
                underlying_type:
                  type: named
                  name: String
            Company:
              type:
                type: nullable
                underlying_type:
                  type: named
                  name: String
            Country:
              type:
                type: nullable
                underlying_type:
                  type: named
                  name: String
            CustomerId:
              type:
                type: named
                name: Int
            Email:
              type:
                type: named
                name: String
            Fax:
              type:
                type: nullable
                underlying_type:
                  type: named
                  name: String
            FirstName:
              type:
                type: named
                name: String
            LastName:
              type:
                type: named
                name: String
            Phone:
              type:
                type: nullable
                underlying_type:
                  type: named
                  name: String
            PostalCode:
              type:
                type: nullable
                underlying_type:
                  type: named
                  name: String
            State:
              type:
                type: nullable
                underlying_type:
                  type: named
                  name: String
            SupportRepId:
              type:
                type: nullable
                underlying_type:
                  type: named
                  name: Int
            _id:
              type:
                type: nullable
                underlying_type:
                  type: named
                  name: ObjectId
        Employee:
          fields:
            Address:
              type:
                type: nullable
                underlying_type:
                  type: named
                  name: String
            BirthDate:
              type:
                type: nullable
                underlying_type:
                  type: named
                  name: String
            City:
              type:
                type: nullable
                underlying_type:
                  type: named
                  name: String
            Country:
              type:
                type: nullable
                underlying_type:
                  type: named
                  name: String
            Email:
              type:
                type: nullable
                underlying_type:
                  type: named
                  name: String
            EmployeeId:
              type:
                type: named
                name: Int
            Fax:
              type:
                type: nullable
                underlying_type:
                  type: named
                  name: String
            FirstName:
              type:
                type: named
                name: String
            HireDate:
              type:
                type: nullable
                underlying_type:
                  type: named
                  name: String
            LastName:
              type:
                type: named
                name: String
            Phone:
              type:
                type: nullable
                underlying_type:
                  type: named
                  name: String
            PostalCode:
              type:
                type: nullable
                underlying_type:
                  type: named
                  name: String
            ReportsTo:
              type:
                type: nullable
                underlying_type:
                  type: named
                  name: String
            State:
              type:
                type: nullable
                underlying_type:
                  type: named
                  name: String
            Title:
              type:
                type: nullable
                underlying_type:
                  type: named
                  name: String
            _id:
              type:
                type: nullable
                underlying_type:
                  type: named
                  name: ObjectId
        Genre:
          fields:
            GenreId:
              type:
                type: named
                name: Int
            Name:
              type:
                type: nullable
                underlying_type:
                  type: named
                  name: String
            _id:
              type:
                type: nullable
                underlying_type:
                  type: named
                  name: ObjectId
        Invoice:
          fields:
            BillingAddress:
              type:
                type: nullable
                underlying_type:
                  type: named
                  name: String
            BillingCity:
              type:
                type: nullable
                underlying_type:
                  type: named
                  name: String
            BillingCountry:
              type:
                type: nullable
                underlying_type:
                  type: named
                  name: String
            BillingPostalCode:
              type:
                type: nullable
                underlying_type:
                  type: named
                  name: String
            BillingState:
              type:
                type: nullable
                underlying_type:
                  type: named
                  name: String
            CustomerId:
              type:
                type: named
                name: Int
            InvoiceDate:
              type:
                type: named
                name: String
            InvoiceId:
              type:
                type: named
                name: Int
            Total:
              type:
                type: named
                name: Float
            _id:
              type:
                type: nullable
                underlying_type:
                  type: named
                  name: ObjectId
        InvoiceLine:
          fields:
            InvoiceId:
              type:
                type: named
                name: Int
            InvoiceLineId:
              type:
                type: named
                name: Int
            Quantity:
              type:
                type: named
                name: Int
            TrackId:
              type:
                type: named
                name: Int
            UnitPrice:
              type:
                type: named
                name: Float
            _id:
              type:
                type: nullable
                underlying_type:
                  type: named
                  name: ObjectId
        MediaType:
          fields:
            MediaTypeId:
              type:
                type: named
                name: Int
            Name:
              type:
                type: nullable
                underlying_type:
                  type: named
                  name: String
            _id:
              type:
                type: nullable
                underlying_type:
                  type: named
                  name: ObjectId
        Playlist:
          fields:
            Name:
              type:
                type: nullable
                underlying_type:
                  type: named
                  name: String
            PlaylistId:
              type:
                type: named
                name: Int
            _id:
              type:
                type: nullable
                underlying_type:
                  type: named
                  name: ObjectId
        PlaylistTrack:
          fields:
            PlaylistId:
              type:
                type: named
                name: Int
            TrackId:
              type:
                type: named
                name: Int
            _id:
              type:
                type: nullable
                underlying_type:
                  type: named
                  name: ObjectId
        Track:
          fields:
            AlbumId:
              type:
                type: nullable
                underlying_type:
                  type: named
                  name: Int
            Bytes:
              type:
                type: nullable
                underlying_type:
                  type: named
                  name: Int
            Composer:
              type:
                type: nullable
                underlying_type:
                  type: named
                  name: String
            GenreId:
              type:
                type: nullable
                underlying_type:
                  type: named
                  name: Int
            MediaTypeId:
              type:
                type: named
                name: Int
            Milliseconds:
              type:
                type: named
                name: Int
            Name:
              type:
                type: named
                name: String
            TrackId:
              type:
                type: named
                name: Int
            UnitPrice:
              type:
                type: named
                name: Float
            _id:
              type:
                type: nullable
                underlying_type:
                  type: named
                  name: ObjectId
        HelloResult:
          fields:
            ok:
              type: { type: named, name: Int }
            readOnly:
              type: { type: named, name: Boolean }
        InsertArtist:
          fields:
            ok:
              type: { type: named, name: Int }
            n:
              type: { type: named, name: Int }
      collections:
        - name: Album
          arguments: {}
          type: Album
          uniqueness_constraints:
            primary_key:
              unique_columns:
                - _id
          foreign_keys: {}
        - name: Track
          arguments: {}
          type: Track
          uniqueness_constraints:
            primary_key:
              unique_columns:
                - _id
          foreign_keys: {}
        - name: Playlist
          arguments: {}
          type: Playlist
          uniqueness_constraints:
            primary_key:
              unique_columns:
                - _id
          foreign_keys: {}
        - name: InvoiceLine
          arguments: {}
          type: InvoiceLine
          uniqueness_constraints:
            primary_key:
              unique_columns:
                - _id
          foreign_keys: {}
        - name: PlaylistTrack
          arguments: {}
          type: PlaylistTrack
          uniqueness_constraints:
            primary_key:
              unique_columns:
                - _id
          foreign_keys: {}
        - name: Employee
          arguments: {}
          type: Employee
          uniqueness_constraints:
            primary_key:
              unique_columns:
                - _id
          foreign_keys: {}
        - name: Customer
          arguments: {}
          type: Customer
          uniqueness_constraints:
            primary_key:
              unique_columns:
                - _id
          foreign_keys: {}
        - name: Genre
          arguments: {}
          type: Genre
          uniqueness_constraints:
            primary_key:
              unique_columns:
                - _id
          foreign_keys: {}
        - name: MediaType
          arguments: {}
          type: MediaType
          uniqueness_constraints:
            primary_key:
              unique_columns:
                - _id
          foreign_keys: {}
        - name: Invoice
          arguments: {}
          type: Invoice
          uniqueness_constraints:
            primary_key:
              unique_columns:
                - _id
          foreign_keys: {}
        - name: Artist
          arguments: {}
          type: Artist
          uniqueness_constraints:
            primary_key:
              unique_columns:
                - _id
          foreign_keys: {}
      functions:
        - name: hello
          description: Example of a read-only native query
          result_type: { type: named, name: HelloResult } 
          arguments: {}
          command: { hello: 1 }
      procedures:
        - name: insertArtist
          description: Example of a database update using a native query
          result_type: { type: named, name: InsertArtist }
          arguments:
            id: { type: { type: named, name: Int } }
            name: { type: { type: named, name: String } }
          command: { insert: Artist, documents: [{ ArtistId: "{{ id }}", Name: "{{ name }}" }] }
    capabilities:
      version: ^0.1.0
      capabilities:
        query:
          aggregates: {}
          variables: {}
          explain: {}
        mutation:
          transactional: null
          explain: null
        relationships:
          relation_comparisons: null
          order_by_aggregate: null
