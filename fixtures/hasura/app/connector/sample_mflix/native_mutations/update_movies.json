{
  "name": "updateMovies",
  "resultType": {
    "object": "UpdateMoviesResult"
  },
  "arguments": {
    "movieId": {
      "type": {
        "scalar": "objectId"
      }
    },
    "update": {
      "type": "extendedJSON"
    }
  },
  "objectTypes": {
    "UpdateMoviesResult": {
      "fields": {
        "cursor": {
          "type": "extendedJSON"
        },
        "ok": {
          "type": {
            "scalar": "int"
          }
        }
      }
    }
  },
  "command": {
    "aggregate": 1,
    "cursor": {},
    "pipeline": [
      {
        "$documents": [
          {
            "$setField": {
              "field": "_id",
              "value": {
                "$oid": "{{ movieId }}"
              },
              "input": "{{ update }}"
            }
          }
        ]
      },
      {
        "$merge": "movies"
      }
    ]
  }
}
