---
source: crates/integration-tests/src/tests/grouping.rs
expression: "run_connector_query(Connector::SampleMflix,\nquery_request().collection(\"movies\").query(query().predicate(binop(\"_lt\",\ntarget!(\"year\"),\nvalue!(1920))).groups(grouping().dimensions([dimension_column(\"year\"),\ndimension_column(\"languages\"),\ndimension_column(\"rated\"),]).aggregates([(\"average_viewer_rating\",\ncolumn_aggregate(\"tomatoes.viewer.rating\",\n\"avg\"),)]).order_by(ordered_dimensions()),),),).await?"
---
- groups:
    - dimensions:
        - 1891
        - - English
        - NOT RATED
      aggregates:
        average_viewer_rating: ~
    - dimensions:
        - 1893
        - ~
        - UNRATED
      aggregates:
        average_viewer_rating: 3
    - dimensions:
        - 1894
        - - English
        - NOT RATED
      aggregates:
        average_viewer_rating: 3.8
    - dimensions:
        - 1896
        - ~
        - ~
      aggregates:
        average_viewer_rating: 4
    - dimensions:
        - 1903
        - - English
        - TV-G
      aggregates:
        average_viewer_rating: 3.7
    - dimensions:
        - 1909
        - - English
        - G
      aggregates:
        average_viewer_rating: 3.6
    - dimensions:
        - 1911
        - - English
        - ~
      aggregates:
        average_viewer_rating: 3.4
    - dimensions:
        - 1912
        - - English
        - UNRATED
      aggregates:
        average_viewer_rating: 3.7
    - dimensions:
        - 1913
        - - English
        - TV-PG
      aggregates:
        average_viewer_rating: 3
    - dimensions:
        - 1914
        - - English
        - ~
      aggregates:
        average_viewer_rating: 3.0666666666666664
    - dimensions:
        - 1915
        - ~
        - NOT RATED
      aggregates:
        average_viewer_rating: 3.2
    - dimensions:
        - 1915
        - - English
        - NOT RATED
      aggregates:
        average_viewer_rating: 3.2
    - dimensions:
        - 1915
        - - English
        - PASSED
      aggregates:
        average_viewer_rating: 3.7
    - dimensions:
        - 1915
        - - French
        - NOT RATED
      aggregates:
        average_viewer_rating: 3.8
    - dimensions:
        - 1916
        - ~
        - ~
      aggregates:
        average_viewer_rating: 0
    - dimensions:
        - 1916
        - ~
        - NOT RATED
      aggregates:
        average_viewer_rating: 3.8
    - dimensions:
        - 1916
        - - English
        - APPROVED
      aggregates:
        average_viewer_rating: 3.1
    - dimensions:
        - 1916
        - - English
        - UNRATED
      aggregates:
        average_viewer_rating: 3.2
    - dimensions:
        - 1917
        - - English
        - ~
      aggregates:
        average_viewer_rating: 3.9
    - dimensions:
        - 1917
        - - English
        - UNRATED
      aggregates:
        average_viewer_rating: 4.1
    - dimensions:
        - 1918
        - - English
        - ~
      aggregates:
        average_viewer_rating: 3.6
    - dimensions:
        - 1919
        - ~
        - NOT RATED
      aggregates:
        average_viewer_rating: 3.7
    - dimensions:
        - 1919
        - - English
        - TV-G
      aggregates:
        average_viewer_rating: 3.3
